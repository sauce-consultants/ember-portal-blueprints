{{#if @loading}}

  {{!-- For Larger screens we'll show a text button with a trailing icon --}}
  <Ui::Button 
    class="hidden sm:flex w-22" 
    @size="sm"
    @loading={{@loading}}
  >Search</Ui::Button>
  {{!-- For Mobile screens we'll just show the icon --}}
  <Ui::IconButton 
    class="sm:hidden" 
    @icon="search"
    @loading={{@loading}}
    @size="sm"
  />

{{else}}

<div class="relative cursor-pointer
  flex items-center
  text-sm leading-6
  rounded-full
  ml-2"
  {{on "click" this.activate}}
  role="button"
  data-test-action={{if @name @name true}}
  ...attributes>

  <Input class="
    block py-1 pr-4 focus:pr-8 sm:pr-8
    min-w-0 w-0 sm:w-22
    text-right text-sm
    placeholder-transparent sm:placeholder-black sm:dark:placeholder-white
    rounded-md border-none 
    bg-transparent outline-none
    focus:border-primary-400 dark:focus:border-primary-600 focus:outline-none
    focus:ring focus:ring-primary-300 dark:focus:ring-primary-700
    focus:w-auto focus:max-w-64 focus:bg-white dark:focus:bg-black
    {{if @value "w-auto max-w-64 bg-white dark:bg-black pr-8" ""}}
    transition duration-500 ease-in-out"
    placeholder={{t "search.placeholder"}}
    id={{this.searchInputId}}
    @value={{@value}}
    data-test-action-input={{if @name @name true}} />

  <div class="h-8 w-8 flex justify-center items-center absolute right-0 top-0">
    {{svg-jar "search" class="w-5 h-5" data-test-action-icon="search"}}
  </div>
  
</div>

{{/if}}